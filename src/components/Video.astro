---
// LinkedInDataHero.astro
interface Props {
    title?: string;
    highlightedWord?: string;
    brandName?: string;
    description?: string;
    badgeText?: string;
    defaultVideoUrl?: string;
}

const {
    title = "Chat With Your",
    highlightedWord = "LinkedIn‚Ñ¢",
    brandName = "Data",
    description = "Stop posting at random times. Our AI analyzes your LinkedIn follower's behavior to predict viral posts with 94% accuracy. Get specific recommendations that increase engagement by 300%.",
    badgeText = "Data-Driven Growth",
    defaultVideoUrl = "https://www.youtube.com/watch?v=zPijWd9uk-I",
} = Astro.props;
---

<div class="w-full max-w-6xl mx-auto px-4 py-12 font-sans">
    <!-- Badge -->
    <div class="flex justify-center mb-6">
        <div class="bg-yellow-200 rounded-full px-4 py-1 flex items-center">
            <span class="text-sm font-medium text-gray-800">
                <span class="mr-1">üèÜ</span>
                {badgeText}
            </span>
        </div>
    </div>

    <!-- Main Heading -->
    <h1 class="text-center text-4xl md:text-5xl font-bold mb-6">
        <span class="text-blue-500">{title}</span>
        <span class="text-gray-900">{highlightedWord.split("‚Ñ¢")[0]}</span>
        <sup class="text-xl">‚Ñ¢</sup>
        <span class="text-gray-900">{brandName}</span>
    </h1>

    <!-- Description -->
    <div class="text-center mb-10 max-w-3xl mx-auto">
        <p class="text-gray-700 text-lg">{description}</p>
    </div>

    <!-- YouTube Video Input -->
    <div class="mb-8 max-w-2xl mx-auto">
        <div class="flex flex-col md:flex-row gap-3">
            <input
                type="text"
                id="youtube-url"
                placeholder="Paste your YouTube video URL here"
                class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                value={defaultVideoUrl}
            />
            <button
                id="load-video"
                class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors"
            >
                Load Video
            </button>
        </div>
    </div>

    <!-- Video Container -->
    <div
        class="w-full rounded-lg overflow-hidden border border-gray-200 shadow-lg bg-white"
    >
        <div id="video-container" class="aspect-video w-full">
            {
                defaultVideoUrl ? (
                    <iframe
                        id="youtube-iframe"
                        width="100%"
                        height="100%"
                        src={
                            defaultVideoUrl.includes("youtube.com")
                                ? defaultVideoUrl.replace("watch?v=", "embed/")
                                : defaultVideoUrl
                        }
                        title="YouTube video player"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen
                        class="w-full h-full"
                    />
                ) : (
                    <div class="w-full h-full flex items-center justify-center bg-gray-100 text-gray-500">
                        <p>Enter a YouTube URL above to load your video</p>
                    </div>
                )
            }
        </div>

        <!-- Video Controls (for design only) -->
        <div
            class="flex items-center justify-between bg-gray-900 text-white px-4 py-2"
        >
            <div class="flex items-center gap-3">
                <button class="hover:text-blue-400">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                    >
                        <path
                            d="M8.445 14.832A1 1 0 0010 14v-2.798l5.445 3.63A1 1 0 0017 14V6a1 1 0 00-1.555-.832L10 8.798V6a1 1 0 00-1.555-.832l-6 4a1 1 0 000 1.664l6 4z"
                        ></path>
                    </svg>
                </button>
                <button class="hover:text-blue-400">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"
                            clip-rule="evenodd"></path>
                    </svg>
                </button>
                <button class="hover:text-blue-400">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                    >
                        <path
                            d="M4.555 5.168A1 1 0 003 6v8a1 1 0 001.555.832L10 11.202V14a1 1 0 001.555.832l6-4a1 1 0 000-1.664l-6-4A1 1 0 0010 6v2.798L4.555 5.168z"
                        ></path>
                    </svg>
                </button>
                <button class="hover:text-blue-400">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z"
                            clip-rule="evenodd"></path>
                    </svg>
                </button>
                <span class="text-sm ml-3">0:15 / 1:19</span>
            </div>
            <div class="flex items-center gap-3">
                <button class="hover:text-blue-400">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                            clip-rule="evenodd"></path>
                    </svg>
                </button>
                <button class="hover:text-blue-400">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                            clip-rule="evenodd"></path>
                    </svg>
                </button>
                <button class="hover:text-blue-400">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"
                        ></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    // Handle video URL loading
    document.addEventListener("DOMContentLoaded", () => {
        const loadButton = document.getElementById("load-video");
        const urlInput = document.getElementById(
            "youtube-url",
        ) as HTMLInputElement;
        const videoContainer = document.getElementById("video-container");

        loadButton?.addEventListener("click", () => {
            const url = urlInput?.value || "";
            if (url && url.includes("youtube.com")) {
                // Extract YouTube video ID and create embed URL
                const videoId = url.includes("watch?v=")
                    ? url.split("watch?v=")[1].split("&")[0]
                    : url.split("/").pop();

                const embedUrl = `https://www.youtube.com/embed/${videoId}`;

                // Create new iframe element
                const iframe = document.createElement("iframe");
                iframe.width = "100%";
                iframe.height = "100%";
                iframe.src = embedUrl;
                iframe.title = "YouTube video player";
                iframe.frameBorder = "0";
                iframe.allow =
                    "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
                iframe.allowFullscreen = true;

                // Clear container and append new iframe
                if (videoContainer) {
                    videoContainer.innerHTML = "";
                    videoContainer.appendChild(iframe);
                }
            } else {
                // Show error if invalid URL
                if (videoContainer) {
                    videoContainer.innerHTML = `
            <div class="w-full h-full flex items-center justify-center bg-gray-100 text-red-500">
              <p>Please enter a valid YouTube URL</p>
            </div>
          `;
                }
            }
        });
    });
</script>
