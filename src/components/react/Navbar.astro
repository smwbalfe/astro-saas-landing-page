---
// Navbar1.astro
interface MenuItem {
    title: string;
    url: string;
}

interface Props {
    logo?: {
        url: string;
        src: string;
        alt: string;
        title: string;
    };
    menu?: MenuItem[];
    auth?: {
        login: {
            title: string;
            url: string;
        };
        signup: {
            title: string;
            url: string;
        };
    };
}

const {
    logo = {
        url: "https://www.shadcnblocks.com",
        src: "https://shadcnblocks.com/images/block/logos/shadcnblockscom-icon.svg",
        alt: "logo",
        title: "shrillecho",
    },
    menu = [
        { title: "Home", url: "#" },
        { title: "Products", url: "#" },
        { title: "Resources", url: "#" },
        { title: "Pricing", url: "#" },
        { title: "Blog", url: "#" },
    ],
    auth = {
        login: { title: "Login", url: "#" },
        signup: { title: "Sign up", url: "#" },
    },
} = Astro.props;

// Client-side script for mobile menu toggle functionality
// Note: In Astro, we need to use client:load or similar directives for interactive elements
---

<section class="py-4 sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
  <div class="container mx-auto px-4 max-w-6xl">
    <!-- Desktop Menu -->
    <nav class="hidden justify-between lg:flex">
      <div class="flex items-center gap-6">
        <!-- Logo -->
        <a href={logo.url} class="flex items-center gap-2">
          <img src={logo.src} class="max-h-8" alt={logo.alt} />
          <span class="text-lg font-semibold tracking-tighter">
            {logo.title}
          </span>
        </a>
        <div class="flex items-center gap-2">
          {menu.map((item) => (
            <a
              href={item.url}
              class="inline-flex h-10 items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors hover:bg-muted hover:text-accent-foreground"
            >
              {item.title}
            </a>
          ))}
        </div>
      </div>
      <div class="flex gap-2">
        <a 
          href={auth.login.url} 
          class="inline-flex h-9 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground"
        >
          {auth.login.title}
        </a>
        <a 
          href={auth.signup.url} 
          class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90"
        >
          {auth.signup.title}
        </a>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="block lg:hidden">
      <div class="flex items-center justify-between">
        <!-- Logo -->
        <a href={logo.url} class="flex items-center gap-2">
          <img src={logo.src} class="max-h-8" alt={logo.alt} />
        </a>
        
        <!-- Mobile Menu Button - Note: We're simplifying this for static usage -->
        <button 
          id="mobile-menu-toggle" 
          class="inline-flex h-10 w-10 items-center justify-center rounded-md border border-input bg-background text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-4">
            <line x1="4" x2="20" y1="12" y2="12"/>
            <line x1="4" x2="20" y1="6" y2="6"/>
            <line x1="4" x2="20" y1="18" y2="18"/>
          </svg>
        </button>
      </div>
      
      <!-- Mobile Menu Panel (Hidden by default) -->
      <div id="mobile-menu-panel" class="hidden mt-2 p-4 rounded-lg border border-border bg-background">
        <div class="flex flex-col gap-4">
          {menu.map((item) => (
            <a
              href={item.url}
              class="text-md font-semibold"
            >
              {item.title}
            </a>
          ))}
        </div>

        <div class="flex flex-col gap-3 mt-6">
          <a 
            href={auth.login.url} 
            class="inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground"
          >
            {auth.login.title}
          </a>
          <a 
            href={auth.signup.url} 
            class="inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90"
          >
            {auth.signup.title}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.getElementById('mobile-menu-toggle');
        const mobilePanel = document.getElementById('mobile-menu-panel');

        if (toggleButton && mobilePanel) {
            toggleButton.addEventListener('click', () => {
                mobilePanel.classList.toggle('hidden');
            });
    }
  });
</script>